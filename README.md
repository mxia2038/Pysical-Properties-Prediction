# 氯碱工业理化常数计算软件V1.0 - 高精度化工物性预测软件

## 概述
本项目是一个专业的化工物性预测软件，集成了先进的机器学习算法，支持多种化工溶液的物性预测。软件采用神经网络和多项式回归等先进算法，提供高精度的物性预测服务。

## 🌟 主要特性
- **高精度预测**: 使用神经网络等先进ML算法，部分模型R²达0.9950
- **多溶液支持**: 支持NaOH、NaCl、HCl三种溶液系统
- **多物性覆盖**: 涵盖密度、粘度、蒸汽压、焓值、泡点温度、导热系数、浓度等物性
- **单位转换**: 蒸汽压支持6种单位自动转换
- **专业界面**: 集成公司Logo的专业GUI界面
- **独立部署**: 打包成exe文件，无需Python环境

## 文件说明

### 新增文件
- `src/predict_gui.py` - GUI界面版本的预测程序
- `build.spec` - PyInstaller打包配置文件
- `build.bat` - Windows打包批处理脚本

### 修改文件
- `requirements.txt` - 添加了pyinstaller和tkinter依赖

## 打包步骤

### 1. 准备工作
确保您的系统已安装Python 3.7+

### 2. 训练模型（如果尚未训练）
```bash
python src/train.py
```

### 3. 安装依赖
```bash
pip install -r requirements.txt
```

### 4. 开始打包
在Windows系统中，双击运行 `build.bat` 文件，或者在命令行中执行：
```bash
build.bat
```

或者手动执行PyInstaller命令：
```bash
pyinstaller build.spec
```

### 5. 获取可执行文件
打包完成后，可执行文件将位于 `dist/氯碱工业理化常数计算软件V1.0.exe`

## GUI程序使用说明

### 功能特点
- **专业界面**: 集成公司Logo的现代化GUI界面
- **多溶液支持**: 溶液类型选择（NaOH/NaCl/HCl）
- **智能模型过滤**: 只显示相关物性预测
- **单位转换**: 蒸汽压支持6种单位显示
- **高精度预测**: 神经网络算法，部分模型R²>0.995
- **实时验证**: 智能输入验证和错误提示
- **专业显示**: 清晰的结果显示和参考单位

### 使用方法
1. 运行 `氯碱工业理化常数计算软件V1.0.exe`
2. 选择溶液类型（NaOH/NaCl/HCl）
3. 选择蒸汽压结果单位（mmHg/kPa/bar/atm/psi/torr）
4. 输入相应的参数值：
   - 浓度（%）
   - 温度（°C）
   - 密度（kg/m³，用于NaCl浓度预测）
   - 压力（用于泡点温度预测）
5. 点击"开始计算"按钮
6. 查看预测结果（包括多单位显示）

### 输入参数说明
- **溶液类型**: 下拉选择 NaOH/NaCl/HCl
- **浓度**: 溶液浓度百分比
  - NaOH: %NaOH
  - NaCl: %NaCl  
  - HCl: %HCl
- **温度**: 摄氏度温度值（°C）
- **密度**: 溶液密度（kg/m³，用于NaCl浓度预测）
- **压力**: 支持多种单位（bar.A, kPa.A, MPa.A, kg/cm2.A）
- **蒸汽压单位**: 结果显示单位（mmHg/kPa/bar/atm/psi/torr）

### 预测模型类型
- **常规物性**: 浓度 + 温度 → 密度/粘度/蒸汽压/焓值
- **泡点温度**: 浓度 + 压力 → 泡点温度
- **浓度预测**: 温度 + 密度 → 浓度（NaCl）
- **HCl蒸汽压**: 浓度 + 温度 → 蒸汽压（高精度神经网络）

## 技术细节

### 打包配置
- 使用PyInstaller进行打包
- 包含所有必要的数据文件（models/, data/）
- 添加了sklearn相关的隐式导入
- 生成单文件可执行程序

### 依赖库
- pandas: 数据处理
- numpy: 数值计算
- scikit-learn: 机器学习模型
- joblib: 模型序列化
- tkinter: GUI界面
- pyinstaller: 打包工具

## 故障排除

### 常见问题
1. **模型文件未找到**: 确保先运行train.py训练模型
2. **依赖安装失败**: 检查Python版本和网络连接
3. **打包失败**: 查看错误信息，可能需要更新PyInstaller

### 兼容性
- Windows 7/8/10/11
- 不需要目标机器安装Python
- exe文件大小约50-100MB

## 添加新数据集说明

### 数据格式要求
新数据集必须遵循以下CSV格式：
```csv
X1,X2,Y_new  # 对于温度相关属性
# 或者
X1,X3,Y_new  # 对于压力相关属性
```

### 特征说明
- **X1**: 浓度值（%NaOH）
- **X2**: 温度值（°C）
- **X3**: 压力值（bar.A）
- **Y**: 目标物性值

### 添加步骤
1. 准备CSV数据文件，确保列名严格按照X1, X2, Y格式
2. 将文件保存到 `data/` 目录下
3. 如果是压力相关属性，在文件名中包含"bubblepoint"
4. 运行训练命令重新训练模型：
   ```bash
   python src/train.py
   ```
5. 重新打包程序：
   ```bash
   build.bat
   ```

### 当前支持的物性

#### NaOH 溶液
- **密度**（Density）- 单位：kg/m³ - R²: 0.9999
- **粘度**（Viscosity）- 单位：cp - R²: 0.9962
- **蒸汽压**（Vapor Pressure）- 单位：mmHg/kPa/bar/atm/psi/torr - R²: 0.9886
- **焓值**（Enthalpy）- 单位：kcal/kgNaOH - R²: 0.9999
- **泡点温度**（Bubble Point Temperature）- 单位：°C - R²: 0.9965
- **导热系数**（Thermal Conductivity）- 单位：kcal/m.hr.°C - R²: 0.9989

#### NaCl 溶液
- **密度**（Density）- 单位：kg/m³ - R²: 1.0000
- **浓度**（Concentration）- 单位：g/L - R²: 1.0000
  - 输入：温度 + 密度 → 浓度

#### HCl 溶液
- **蒸汽压**（Vapor Pressure）- 单位：mmHg/kPa/bar/atm/psi/torr - R²: 0.9950
  - 使用神经网络算法，RMSE: 19.96 mmHg
  - 高精度预测，支持多单位显示

### 数据要求
- **浓度范围**：
  - NaOH: 2-50 %NaOH
  - NaCl: 1-25 %NaCl
  - HCl: 6-42 %HCl
- **温度范围**：0-110 °C
- **密度范围**：990-1210 kg/m³（用于NaCl浓度预测）
- **压力范围**：0.08-2.2 bar.A
- **每个数据集至少50个数据点以确保模型准确性**

### 🔬 技术亮点
- **神经网络算法**: HCl蒸汽压使用4层神经网络，达到研究级精度
- **高级特征工程**: 15个物理化学特征，包括温度倒数、对数变换等
- **多单位支持**: 蒸汽压支持6种工程单位自动转换
- **专业界面**: 集成公司Logo和现代化设计
- **模型集成**: 9个高精度预测模型，覆盖多种溶液系统

## 分发说明
分发时只需要提供 `dist/氯碱工业理化常数计算软件V1.0.exe` 文件即可，无需其他依赖。